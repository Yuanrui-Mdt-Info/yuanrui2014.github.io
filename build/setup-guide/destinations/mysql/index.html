<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-setup-guide/destinations/mysql">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">MySQL | Daspire</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.daspire.com/setup-guide/destinations/mysql"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MySQL | Daspire"><meta data-rh="true" name="description" content="This page contains the setup guide and reference information for MySQL."><meta data-rh="true" property="og:description" content="This page contains the setup guide and reference information for MySQL."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.daspire.com/setup-guide/destinations/mysql"><link data-rh="true" rel="alternate" href="https://docs.daspire.com/setup-guide/destinations/mysql" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.daspire.com/setup-guide/destinations/mysql" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9f0b871e.css">
<link rel="preload" href="/assets/js/runtime~main.cf06b116.js" as="script">
<link rel="preload" href="/assets/js/main.d0afb24e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-dark.png" alt="Daspire logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-dark.png" alt="Daspire logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Start here</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/key-concepts">Key concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/setup-guide/sources/amazon-ads">Setup guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/setup-guide/sources/amazon-ads">Sources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/setup-guide/destinations/bigquery">Destinations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/destinations/bigquery">BigQuery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/destinations/clickhouse">ClickHouse</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/setup-guide/destinations/mysql">MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/destinations/postgres">Postgres</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/destinations/redshift">Redshift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/destinations/snowflake">Snowflake</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/configurations">Configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sync-log">Sync log</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Setup guide</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Destinations</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MySQL</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>MySQL</h1><p>This page contains the setup guide and reference information for MySQL.</p><p>There are two types of connection for this destination:</p><ol><li>destination-mysql. Supports both SSL and non SSL connections.</li><li>destination-mysql-strict-encrypt. Pretty same as connector above, but supports SSL connections only.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a class="hash-link" href="#features" title="Direct link to heading">​</a></h2><table><thead><tr><th>Feature</th><th>Supported?</th></tr></thead><tbody><tr><td>Full Refresh Sync</td><td>Yes</td></tr><tr><td>Incremental - Append Sync</td><td>Yes</td></tr><tr><td>Incremental - Deduped History</td><td>No</td></tr><tr><td>Namespaces</td><td>Yes</td></tr><tr><td>SSH Tunnel Connection</td><td>Yes</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="output-schema">Output Schema<a class="hash-link" href="#output-schema" title="Direct link to heading">​</a></h3><p>Each stream will be output into its own table in MySQL. Each table will contain 3 columns:</p><ul><li><p><code>_daspire_ab_id</code>: a uuid assigned by Daspire to each event that is processed. The column type in MySQL is <code>VARCHAR(256)</code>.</p></li><li><p><code>_daspire_emitted_at</code>: a timestamp representing when the event was pulled from the data source. The column type in MySQL is <code>TIMESTAMP(6)</code>.</p></li><li><p><code>_daspire_data</code>: a json blob representing with the event data. The column type in MySQL is <code>JSON</code>.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h2><ul><li>To sync data to MySQL <strong>with normalization</strong> you&#x27;ll need MySQL 8.0.0 or above</li><li>To sync data to MySQL <strong>without normalization</strong> you&#x27;ll need MySQL 5.0 or above.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-access">Network Access<a class="hash-link" href="#network-access" title="Direct link to heading">​</a></h3><p>Make sure your MySQL database can be accessed by Daspire. If your database is within a VPC, you may need to allow access from the IP you&#x27;re using to expose Daspire.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="permissions">Permissions<a class="hash-link" href="#permissions" title="Direct link to heading">​</a></h3><p>You need a MySQL user with <code>CREATE, INSERT, SELECT, DROP</code> permissions. We highly recommend creating a Daspire-specific user for this purpose.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="target-database">Target Database<a class="hash-link" href="#target-database" title="Direct link to heading">​</a></h3><p>MySQL doesn&#x27;t differentiate between a database and schema. A database is essentially a schema where all the tables live in. You will need to choose an existing database or create a new database. This will act as a default database/schema where the tables will be created if the source doesn&#x27;t provide a namespace.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-guide">Setup guide<a class="hash-link" href="#setup-guide" title="Direct link to heading">​</a></h2><p>Before setting up MySQL destination in Daspire, you need to set the <a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_local_infile" target="_blank" rel="noopener noreferrer">local_infile</a> system variable to true. You can do this by running the query <code>SET GLOBAL local_infile = true</code> with a user with <a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_system-variables-admin" target="_blank" rel="noopener noreferrer">SYSTEM<!-- -->_<!-- -->VARIABLES<!-- -->_<!-- -->ADMIN</a> permission. This is required cause Daspire uses <code>LOAD DATA LOCAL INFILE</code> to load data into table.</p><p>You should now have all the requirements needed to configure MySQL as a destination in the UI. You&#x27;ll need the following information to configure the MySQL destination:</p><ul><li><strong>Host</strong></li><li><strong>Port</strong></li><li><strong>Username</strong></li><li><strong>Password</strong></li><li><strong>Database</strong></li><li><strong>jdbc<!-- -->_<!-- -->url<!-- -->_<!-- -->params</strong> (Optional)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-jdbc-url-parameters">Default JDBC URL Parameters<a class="hash-link" href="#default-jdbc-url-parameters" title="Direct link to heading">​</a></h3><p>The following JDBC URL parameters are set by Daspire and cannot be overridden by the <code>jdbc_url_params</code> field:</p><ul><li><code>useSSL=true</code> (unless <code>ssl</code> is set to false)</li><li><code>requireSSL=true</code> (unless <code>ssl</code> is set to false)</li><li><code>verifyServerCertificate=false</code> (unless <code>ssl</code> is set to false)</li><li><code>zeroDateTimeBehavior=convertToNull</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Limitations<a class="hash-link" href="#limitations" title="Direct link to heading">​</a></h2><p>Note that MySQL documentation discusses identifiers case sensitivity using the <code>lower_case_table_names</code> system variable. One of their recommendations is:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;It is best to adopt a consistent convention, such as always creating and referring to databases and tables using lowercase names.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This convention is recommended for maximum portability and ease of use.&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://dev.mysql.com/doc/refman/8.0/en/identifier-case-sensitivity.html" target="_blank" rel="noopener noreferrer">Source: MySQL docs</a></p><p>As a result, Daspire MySQL destination forces all identifier (table, schema and columns) names to be lowercase.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connection-via-ssh-tunnel">Connection via SSH Tunnel<a class="hash-link" href="#connection-via-ssh-tunnel" title="Direct link to heading">​</a></h2><p>Daspire has the ability to connect to a MySQL instance via an SSH Tunnel. The reason you might want to do this because it is not possible (or against security policy) to connect to the database directly (e.g. it does not have a public IP address).</p><p>When using an SSH tunnel, you are configuring Daspire to connect to an intermediate server (a.k.a. a bastion server) that does have direct access to the database. Daspire connects to the bastion and then asks the bastion to connect directly to the server.</p><p>Using this feature requires additional configuration, when creating the destination. We will talk through what each piece of configuration means.</p><ol><li><p>Configure all fields for the destination as you normally would, except <code>SSH Tunnel Method</code>.</p></li><li><p><code>SSH Tunnel Method</code> defaults to <code>No Tunnel</code> (meaning a direct connection). If you want to use an SSH Tunnel choose <code>SSH Key Authentication</code> or <code>Password Authentication</code>.</p></li></ol><ul><li><p>Choose <code>Key Authentication</code> if you will be using an RSA private key as your secret for establishing the SSH Tunnel (see below for more information on generating this key).</p></li><li><p>Choose <code>Password Authentication</code> if you will be using a password as your secret for establishing the SSH Tunnel.</p></li></ul><ol start="3"><li><p><code>SSH Tunnel Jump Server Host</code> refers to the intermediate (bastion) server that Daspire will connect to. This should be a hostname or an IP Address.</p></li><li><p><code>SSH Connection Port</code> is the port on the bastion server with which to make the SSH connection. The default port for SSH connections is <code>22</code>, so unless you have explicitly changed something, go with the default.</p></li><li><p><code>SSH Login Username</code> is the username that Daspire should use when connection to the bastion server. This is NOT the MySQL username.</p></li><li><p>If you are using <code>Password Authentication</code>, then <code>SSH Login Username</code> should be set to the password of the User from the previous step. If you are using <code>SSH Key Authentication</code> leave this blank. Again, this is not the MySQL password, but the password for the OS-user that Daspire is using to perform commands on the bastion.</p></li><li><p>If you are using <code>SSH Key Authentication</code>, then <code>SSH Private Key</code> should be set to the RSA Private Key that you are using to create the SSH connection. This should be the full contents of the key file starting with <code>-----BEGIN RSA PRIVATE KEY-----</code> and ending with <code>-----END RSA PRIVATE KEY-----</code>.</p></li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/setup-guide/destinations/clickhouse"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ClickHouse</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/setup-guide/destinations/postgres"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Postgres</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a><ul><li><a href="#output-schema" class="table-of-contents__link toc-highlight">Output Schema</a></li></ul></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#network-access" class="table-of-contents__link toc-highlight">Network Access</a></li><li><a href="#permissions" class="table-of-contents__link toc-highlight">Permissions</a></li><li><a href="#target-database" class="table-of-contents__link toc-highlight">Target Database</a></li></ul></li><li><a href="#setup-guide" class="table-of-contents__link toc-highlight">Setup guide</a><ul><li><a href="#default-jdbc-url-parameters" class="table-of-contents__link toc-highlight">Default JDBC URL Parameters</a></li></ul></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li><li><a href="#connection-via-ssh-tunnel" class="table-of-contents__link toc-highlight">Connection via SSH Tunnel</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Sictec Infotech, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cf06b116.js"></script>
<script src="/assets/js/main.d0afb24e.js"></script>
</body>
</html>