<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-setup-guide/sources/mysql">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">MySQL | Daspire</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.daspire.com/setup-guide/sources/mysql"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MySQL | Daspire"><meta data-rh="true" name="description" content="This page contains the setup guide and reference information for MySQL."><meta data-rh="true" property="og:description" content="This page contains the setup guide and reference information for MySQL."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.daspire.com/setup-guide/sources/mysql"><link data-rh="true" rel="alternate" href="https://docs.daspire.com/setup-guide/sources/mysql" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.daspire.com/setup-guide/sources/mysql" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9f0b871e.css">
<link rel="preload" href="/assets/js/runtime~main.c4a3003d.js" as="script">
<link rel="preload" href="/assets/js/main.85d541aa.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-dark.png" alt="Daspire logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-dark.png" alt="Daspire logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Start here</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/key-concepts">Key concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/setup-guide/sources/amazon-ads">Setup guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/setup-guide/sources/amazon-ads">Sources</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/sources/amazon-ads">Amazon Ads</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/sources/amazon-seller-partner">Amazon Seller Partner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/sources/bigcommerce">BigCommerce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/setup-guide/sources/mysql">MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/sources/netsuite">NetSuite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/sources/shopify">Shopify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/sources/walmart-marketplace">Walmart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/sources/woocommerce">WooCommerce</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/setup-guide/destinations/bigquery">Destinations</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/configurations">Configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sync-log">Sync log</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Setup guide</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Sources</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MySQL</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>MySQL</h1><p>This page contains the setup guide and reference information for MySQL.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h2><ul><li>MySQL Server <code>8.0</code>, <code>5.7</code>, or <code>5.6</code>.</li><li>Create a dedicated read-only Daspire user with access to all tables needed for replication.</li><li>Host</li><li>Port</li><li>Database</li><li>Username</li><li>Password</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a class="hash-link" href="#features" title="Direct link to heading">​</a></h2><table><thead><tr><th>Feature</th><th>Supported</th><th>Notes</th></tr></thead><tbody><tr><td>Full Refresh Sync</td><td>Yes</td><td></td></tr><tr><td>Incremental - Append Sync</td><td>Yes</td><td></td></tr><tr><td>Replicate Incremental Deletes</td><td>Yes</td><td></td></tr><tr><td>CDC</td><td>Yes</td><td></td></tr><tr><td>SSL Support</td><td>Yes</td><td></td></tr><tr><td>SSH Tunnel Connection</td><td>Yes</td><td></td></tr><tr><td>Namespaces</td><td>Yes</td><td>Enabled by default</td></tr><tr><td>Arrays</td><td>Yes</td><td>Byte arrays are not supported yet</td></tr></tbody></table><p>The MySQL source does not alter the schema present in your database. Depending on the destination connected to this source, however, the schema may be altered. See the destination&#x27;s documentation for more details.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-guide">Setup guide<a class="hash-link" href="#setup-guide" title="Direct link to heading">​</a></h2><p><strong>1. Make sure your database is accessible from the machine running Daspire</strong></p><p>This is dependent on your networking setup. The easiest way to verify if Daspire is able to connect to your MySQL instance is via the check connection tool in the UI.</p><p><strong>2. Create a dedicated read-only user with access to the relevant tables (recommended but optional)</strong></p><p>This step is optional but highly recommended to allow for better permission control and auditing. Alternatively, you can use Daspire with an existing user in your database.</p><p>To create a dedicated database user, run the following commands against your database:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE USER &#x27;daspire&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;your_password_here&#x27;; </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The right set of permissions differ between the <code>STANDARD</code> and <code>CDC</code> replication method. For <code>STANDARD</code> replication method, only <code>SELECT</code> permission is required.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GRANT SELECT ON &lt;database name&gt;.* TO &#x27;daspire&#x27;@&#x27;%&#x27;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For <code>CDC</code> replication method, <code>SELECT</code>, <code>RELOAD</code>, <code>SHOW DATABASES</code>, <code>REPLICATION SLAVE</code>, <code>REPLICATION CLIENT</code> permissions are required.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GRANT SELECT, RELOAD, SHOW DATABASES, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO &#x27;daspire&#x27;@&#x27;%&#x27;; </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your database user should now be ready for use with Daspire.</p><p><strong>3. Set up CDC</strong></p><p>For <code>STANDARD</code> replication method this is not applicable. If you select the <code>CDC</code> replication method then only this is required. Please read the <a href="#change-data-capture-cdc">section on CDC</a> below for more information.</p><p><strong>4. That&#x27;s it!</strong></p><p>Your database user should now be ready for use with Daspire.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="change-data-capture-cdc">Change Data Capture (CDC)<a class="hash-link" href="#change-data-capture-cdc" title="Direct link to heading">​</a></h2><ul><li><p>If you need a record of deletions and can accept the limitations posted below, you should be able to use CDC for MySQL.</p></li><li><p>If your data set is small, and you just want snapshot of your table in the destination, consider using Full Refresh replication for your table instead of CDC.</p></li><li><p>If the limitations prevent you from using CDC and your goal is to maintain a snapshot of your table in the destination, consider using non-CDC incremental and occasionally reset the data and re-sync.</p></li><li><p>If your table has a primary key but doesn&#x27;t have a reasonable cursor field for incremental syncing (i.e. <code>updated_at</code>), CDC allows you to sync your table incrementally.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cdc-limitations">CDC Limitations<a class="hash-link" href="#cdc-limitations" title="Direct link to heading">​</a></h3><ul><li><p>CDC incremental is only supported for tables with primary keys. A CDC source can still choose to replicate tables without primary keys as Full Refresh or a non-CDC source can be configured for the same database to replicate the tables without primary keys using standard incremental replication.</p></li><li><p>Data must be in tables, not views.</p></li><li><p>The modifications you are trying to capture must be made using <code>DELETE</code>/<code>INSERT</code>/<code>UPDATE</code>. For example, changes made from <code>TRUNCATE</code>/<code>ALTER</code> won&#x27;t appear in logs and therefore in your destination.</p></li><li><p>We do not support schema changes automatically for CDC sources. We recommend resetting and resyncing data if you make a schema change.</p></li><li><p>There are database-specific limitations. See the documentation pages for individual connectors for more information.</p></li><li><p>The records produced by <code>DELETE</code> statements only contain primary keys. All other data fields are unset.</p></li><li><p>Our CDC implementation uses at least once delivery for all change records.</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-enable-binary-logging">1. Enable binary logging<a class="hash-link" href="#1-enable-binary-logging" title="Direct link to heading">​</a></h4><p>You must enable binary logging for MySQL replication. The binary logs record transaction updates for replication tools to propagate changes. You can configure your MySQL server configuration file with the following properties, which are described in below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">server-id                  = 223344</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log_bin                    = mysql-bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">binlog_format              = ROW</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">binlog_row_image           = FULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">binlog_expire_log_seconds  = 864000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p><code>server-id</code>: The value for the server-id must be unique for each server and replication client in the MySQL cluster. The <code>server-id</code> should be a non-zero value. If the <code>server-id</code> is already set to a non-zero value, you don&#x27;t need to make any change. You can set the <code>server-id</code> to any value between 1 and 4294967295. For more information refer <a href="https://dev.mysql.com/doc/refman/8.0/en/replication-options.html#sysvar_server_id" target="_blank" rel="noopener noreferrer">MySQL doc</a>.</p></li><li><p><code>log_bin</code>: The value of <code>log_bin</code> is the base name of the sequence of binlog files. If the <code>log_bin</code> is already set, you don&#x27;t need to make any change. For more information refer <a href="https://dev.mysql.com/doc/refman/8.0/en/replication-options-binary-log.html#option_mysqld_log-bin" target="_blank" rel="noopener noreferrer">MySQL doc</a>.</p></li><li><p><code>binlog_format</code>: The <code>binlog_format</code> must be set to <code>ROW</code>. For more information refer <a href="https://dev.mysql.com/doc/refman/8.0/en/replication-options-binary-log.html#sysvar_binlog_format" target="_blank" rel="noopener noreferrer">MySQL doc</a>.</p></li><li><p><code>binlog_row_image</code>: The <code>binlog_row_image</code> must be set to <code>FULL</code>. It determines how row images are written to the binary log. For more information refer <a href="https://dev.mysql.com/doc/refman/5.7/en/replication-options-binary-log.html#sysvar_binlog_row_image" target="_blank" rel="noopener noreferrer">MySQL doc</a>.</p></li><li><p><code>binlog_expire_log_seconds</code>: This is the number of seconds for automatic binlog file removal. We recommend 864000 seconds (10 days) so that in case of a failure in sync or if the sync is paused, we still have some bandwidth to start from the last point in incremental sync. We also recommend setting frequent syncs for CDC.</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-enable-gtids-optional">2. Enable GTIDs (optional)<a class="hash-link" href="#2-enable-gtids-optional" title="Direct link to heading">​</a></h4><p>Global transaction identifiers (GTIDs) uniquely identify transactions that occur on a server within a cluster. Though not required for Daspire MySQL setup, using GTIDs simplifies replication and enables you to more easily confirm if primary and replica servers are consistent. For more information refer <a href="https://dev.mysql.com/doc/refman/8.0/en/replication-options-gtids.html#option_mysqld_gtid-mode" target="_blank" rel="noopener noreferrer">MySQL doc</a>.</p><ul><li><p>Enable <code>gtid_mode</code>: Boolean that specifies whether GTID mode of the MySQL server is enabled or not. Enable it via <code>mysql&gt; gtid_mode=ON</code></p></li><li><p>Enable <code>enforce_gtid_consistency</code>: Boolean that specifies whether the server enforces GTID consistency by allowing the execution of statements that can be logged in a transactionally safe manner. Required when using GTIDs. Enable it via <code>mysql&gt; enforce_gtid_consistency=ON</code></p></li></ul><p><strong>Note</strong></p><p>When a sync runs for the first time using CDC, Daspire performs an initial consistent snapshot of your database. Daspire doesn&#x27;t acquire any table locks (for tables defined with MyISAM engine, the tables would still be locked) while creating the snapshot to allow writes by other database clients. But in order for the sync to work without any error/unexpected behaviour, it is assumed that no schema changes are happening while the snapshot is running.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connection-via-ssh-tunnel">Connection via SSH Tunnel<a class="hash-link" href="#connection-via-ssh-tunnel" title="Direct link to heading">​</a></h2><p>Daspire has the ability to connect to a MySQL instance via an SSH Tunnel. The reason you might want to do this because it is not possible (or against security policy) to connect to the database directly (e.g. it does not have a public IP address).</p><p>When using an SSH tunnel, you are configuring Daspire to connect to an intermediate server (a.k.a. a bastion server) that does have direct access to the database. Daspire connects to the bastion and then asks the bastion to connect directly to the server.</p><p>Using this feature requires additional configuration, when creating the source. We will talk through what each piece of configuration means.</p><ol><li><p>Configure all fields for the source as you normally would, except <code>SSH Tunnel Method</code>.</p></li><li><p><code>SSH Tunnel Method</code> defaults to <code>No Tunnel</code> (meaning a direct connection). If you want to use an SSH Tunnel choose <code>SSH Key Authentication</code> or <code>Password Authentication</code>.</p></li></ol><ul><li><p>Choose <code>Key Authentication</code> if you will be using an RSA private key as your secret for establishing the SSH Tunnel (see below for more information on generating this key).</p></li><li><p>Choose <code>Password Authentication</code> if you will be using a password as your secret for establishing the SSH Tunnel.</p></li></ul><ol start="3"><li><p><code>SSH Tunnel Jump Server Host</code> refers to the intermediate (bastion) server that Daspire will connect to. This should be a hostname or an IP Address.</p></li><li><p><code>SSH Connection Port</code> is the port on the bastion server with which to make the SSH connection. The default port for SSH connections is <code>22</code>, so unless you have explicitly changed something, go with the default.</p></li><li><p><code>SSH Login Username</code> is the username that Daspire should use when connection to the bastion server. This is NOT the MySQL username.</p></li><li><p>If you are using <code>Password Authentication</code>, then <code>SSH Login Username</code> should be set to the password of the User from the previous step. If you are using <code>SSH Key Authentication</code> leave this blank. Again, this is not the MySQL password, but the password for the OS-user that Daspire is using to perform commands on the bastion.</p></li><li><p>If you are using <code>SSH Key Authentication</code>, then <code>SSH Private Key</code> should be set to the RSA Private Key that you are using to create the SSH connection. This should be the full contents of the key file starting with <code>-----BEGIN RSA PRIVATE KEY-----</code> and ending with <code>-----END RSA PRIVATE KEY-----</code>.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="generating-an-ssh-key-pair">Generating an SSH Key Pair<a class="hash-link" href="#generating-an-ssh-key-pair" title="Direct link to heading">​</a></h3><p>The connector expects an RSA key in PEM format. To generate this key:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t rsa -m PEM -f myuser_rsa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This produces the private key in pem format, and the public key remains in the standard format used by the <code>authorized_keys</code> file on your bastion host. The public key should be added to your bastion host to whichever user you want to use with Daspire. The private key is provided via copy-and-paste to the Daspire connection configuration screen, so it may log in to the bastion.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-type-mapping">Data type mapping<a class="hash-link" href="#data-type-mapping" title="Direct link to heading">​</a></h2><table><thead><tr><th>MySQL Type</th><th>Daspire Type</th><th>Note</th></tr></thead><tbody><tr><td><code>bit(1)</code></td><td>boolean</td><td></td></tr><tr><td><code>bit(\&gt;1)</code></td><td>base64 binary string</td><td></td></tr><tr><td><code>boolean</code></td><td>boolean</td><td></td></tr><tr><td><code>tinyint(1)</code></td><td>boolean</td><td></td></tr><tr><td><code>tinyint(\&gt;1)</code></td><td>boolean</td><td></td></tr><tr><td><code>smallint</code></td><td>number</td><td></td></tr><tr><td><code>mediumint</code></td><td>number</td><td></td></tr><tr><td><code>int</code></td><td>number</td><td></td></tr><tr><td><code>bigint</code></td><td>number</td><td></td></tr><tr><td><code>float</code></td><td>number</td><td></td></tr><tr><td><code>double</code></td><td>number</td><td></td></tr><tr><td><code>decimal</code></td><td>number</td><td></td></tr><tr><td><code>binary</code></td><td>string</td><td></td></tr><tr><td><code>blob</code></td><td>string</td><td></td></tr><tr><td><code>date</code></td><td>string</td><td>ISO 8601 date string. ZERO-DATE value will be converted to NULL. If column is mandatory, convert to EPOCH.</td></tr><tr><td><code>datetime</code>, <code>timestamp</code></td><td>string</td><td>ISO 8601 datetime string. ZERO-DATE value will be converted to NULL. If column is mandatory, convert to EPOCH.</td></tr><tr><td><code>time</code></td><td>string</td><td>ISO 8601 time string. Values are in range between 00:00:00 and 23:59:59.</td></tr><tr><td><code>year</code></td><td>year string</td><td><a href="https://dev.mysql.com/doc/refman/8.0/en/year.html" target="_blank" rel="noopener noreferrer">Doc</a></td></tr><tr><td><code>char</code>, <code>varchar</code> with non-binary charset</td><td>string</td><td></td></tr><tr><td><code>char</code>, <code>varchar</code> with binary charset</td><td>base64 binary string</td><td></td></tr><tr><td><code>tinyblob</code></td><td>base64 binary string</td><td></td></tr><tr><td><code>blob</code></td><td>base64 binary string</td><td></td></tr><tr><td><code>mediumblob</code></td><td>base64 binary string</td><td></td></tr><tr><td><code>longblob</code></td><td>base64 binary string</td><td></td></tr><tr><td><code>binary</code></td><td>base64 binary string</td><td></td></tr><tr><td><code>varbinary</code></td><td>base64 binary string</td><td></td></tr><tr><td><code>tinytext</code></td><td>string</td><td></td></tr><tr><td><code>text</code></td><td>string</td><td></td></tr><tr><td><code>mediumtext</code></td><td>string</td><td></td></tr><tr><td><code>longtext</code></td><td>string</td><td></td></tr><tr><td><code>json</code></td><td>serialized json string</td><td>E.g. {&quot;a&quot;: 10, &quot;b&quot;: 15}</td></tr><tr><td><code>enum</code></td><td>string</td><td></td></tr><tr><td><code>set</code></td><td>string</td><td>E.g. blue,green,yellow</td></tr><tr><td><code>geometry</code></td><td>base64 binary string</td><td></td></tr></tbody></table><p>Note: If you do not see a type in this list, assume that it is coerced into a string.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">​</a></h2><p>There may be problems with mapping values in MySQL&#x27;s datetime field to other relational data stores. MySQL permits zero values for date/time instead of NULL which may not be accepted by other data stores. To work around this problem, you can pass the following key value pair in the JDBC connector of the source setting <code>zerodatetimebehavior=Converttonull</code>.</p><p>Some users reported that they could not connect to Amazon RDS MySQL or MariaDB. This can be diagnosed with the error message: <code>Cannot create a PoolableConnectionFactory</code>. To solve this issue add <code>enabledTLSProtocols=TLSv1.2</code> in the JDBC parameters.</p><p>Another error that users have reported when trying to connect to Amazon RDS MySQL is <code>Error: HikariPool-1 - Connection is not available, request timed out after 30001ms.</code>. Many times this can be due to the VPC not allowing public traffic. However, we recommend going through <a href="https://aws.amazon.com/premiumsupport/knowledge-center/rds-cannot-connect/" target="_blank" rel="noopener noreferrer">this AWS troubleshooting checklist</a> to the correct permissions/settings have been granted to allow connection to your database.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/setup-guide/sources/bigcommerce"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">BigCommerce</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/setup-guide/sources/netsuite"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">NetSuite</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#setup-guide" class="table-of-contents__link toc-highlight">Setup guide</a></li><li><a href="#change-data-capture-cdc" class="table-of-contents__link toc-highlight">Change Data Capture (CDC)</a><ul><li><a href="#cdc-limitations" class="table-of-contents__link toc-highlight">CDC Limitations</a></li></ul></li><li><a href="#connection-via-ssh-tunnel" class="table-of-contents__link toc-highlight">Connection via SSH Tunnel</a><ul><li><a href="#generating-an-ssh-key-pair" class="table-of-contents__link toc-highlight">Generating an SSH Key Pair</a></li></ul></li><li><a href="#data-type-mapping" class="table-of-contents__link toc-highlight">Data type mapping</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Sictec Infotech, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c4a3003d.js"></script>
<script src="/assets/js/main.85d541aa.js"></script>
</body>
</html>