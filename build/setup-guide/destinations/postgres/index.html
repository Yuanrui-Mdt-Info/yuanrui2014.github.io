<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-setup-guide/destinations/postgres">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Postgres | Daspire</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.daspire.com/setup-guide/destinations/postgres"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Postgres | Daspire"><meta data-rh="true" name="description" content="This page contains the setup guide and reference information for Postgres."><meta data-rh="true" property="og:description" content="This page contains the setup guide and reference information for Postgres."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.daspire.com/setup-guide/destinations/postgres"><link data-rh="true" rel="alternate" href="https://docs.daspire.com/setup-guide/destinations/postgres" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.daspire.com/setup-guide/destinations/postgres" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9f0b871e.css">
<link rel="preload" href="/assets/js/runtime~main.16cc722c.js" as="script">
<link rel="preload" href="/assets/js/main.76da3c3f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-dark.png" alt="Daspire logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-dark.png" alt="Daspire logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Start here</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/key-concepts">Key concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/setup-guide/sources/amazon-ads">Setup guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/setup-guide/sources/amazon-ads">Sources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/setup-guide/destinations/bigquery">Destinations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/destinations/bigquery">BigQuery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/destinations/clickhouse">ClickHouse</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/destinations/mysql">MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/setup-guide/destinations/postgres">Postgres</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/destinations/redshift">Redshift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/setup-guide/destinations/snowflake">Snowflake</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/configurations">Configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sync-log">Sync log</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Setup guide</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Destinations</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Postgres</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Postgres</h1><p>This page contains the setup guide and reference information for Postgres.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a class="hash-link" href="#features" title="Direct link to heading">â€‹</a></h2><table><thead><tr><th>Feature</th><th>Supported?</th></tr></thead><tbody><tr><td>Full Refresh Sync</td><td>Yes</td></tr><tr><td>Incremental - Append Sync</td><td>Yes</td></tr><tr><td>Incremental - Deduped History</td><td>Yes</td></tr><tr><td>Namespaces</td><td>Yes</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">â€‹</a></h2><p>To use the Postgres destination, you&#x27;ll need:</p><ul><li><p>A Postgres server version 9.5 or above</p></li><li><p><strong>Host</strong> - The host name of the server.</p></li><li><p><strong>Port</strong> - The port number the server is listening on. Defaults to the PostgreSQLâ„¢ standard port number (5432).</p></li><li><p><strong>Username</strong></p></li><li><p><strong>Password</strong></p></li><li><p><strong>Default Schema Name</strong> - Specify the schema (or several schemas separated by commas) to be set in the search-path. These schemas will be used to resolve unqualified object names used in statements executed over this connection.</p></li><li><p><strong>Database</strong> - The database name. The default is to connect to a database with the same name as the user name.</p></li><li><p><strong>JDBC URL Params</strong> (optional)</p></li></ul><p><a href="https://jdbc.postgresql.org/documentation/use/#connecting-to-the-database" target="_blank" rel="noopener noreferrer">Refer to this guide for more details</a></p><p><strong>Configure Network Access</strong></p><p>Make sure your Postgres database can be accessed by Daspire. If your database is within a VPC, you may need to allow access from the IP you&#x27;re using to expose Daspire.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-guide">Setup guide<a class="hash-link" href="#setup-guide" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-set-up-postgres">Step 1: Set up Postgres<a class="hash-link" href="#step-1-set-up-postgres" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="permissions">Permissions<a class="hash-link" href="#permissions" title="Direct link to heading">â€‹</a></h4><p>You need a Postgres user with the following permissions:</p><ul><li><p>can create tables and write rows.</p></li><li><p>can create schemas e.g:</p></li></ul><p>You can create such a user by running:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE USER daspire_user WITH PASSWORD &#x27;&lt;password&gt;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GRANT CREATE, TEMPORARY ON DATABASE &lt;database&gt; TO daspire_user; </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can also use a pre-existing user but we highly recommend creating a dedicated user for Daspire.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="target-database">Target Database<a class="hash-link" href="#target-database" title="Direct link to heading">â€‹</a></h4><p>You will need to choose an existing database or create a new database that will be used to store synced data from Daspire.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-set-up-the-postgres-destination-in-daspire">Step 2: Set up the Postgres destination in Daspire<a class="hash-link" href="#step-2-set-up-the-postgres-destination-in-daspire" title="Direct link to heading">â€‹</a></h3><ol><li><p>Log into your Daspire account.</p></li><li><p>In the left navigation bar, click <strong>Destinations</strong>. In the top-right corner, click <strong>new destination</strong>.</p></li><li><p>On the Set up the destination page, enter the name for the Postgres connector and select <strong>Postgres</strong> from the Destination type dropdown.</p></li><li><p>Enter a name for your source.</p></li><li><p>For the <strong>Host</strong> , <strong>Port</strong> , and <strong>DB Name</strong> , enter the hostname, port number, and name for your Postgres database.</p></li><li><p>List the <strong>Default Schemas</strong>.</p><blockquote><p><strong>NOTE:</strong> The schema names are case sensitive. The &#x27;public&#x27; schema is set by default. Multiple schemas may be used at one time. No schemas set explicitly - will sync all of existing.</p></blockquote></li><li><p>For <strong>User</strong> and <strong>Password</strong> , enter the username and password you created in <a href="https://docs.airbyte.com/integrations/destinations/postgres#step-1-optional-create-a-dedicated-read-only-user" target="_blank" rel="noopener noreferrer">Step 1</a>.</p></li><li><p>For connection using SSL, select the following:</p></li></ol><ul><li><p><strong>disable</strong> to disable encrypted communication between Daspire and the source</p></li><li><p><strong>allow</strong> to enable encrypted communication only when required by the source</p></li><li><p><strong>prefer</strong> to allow unencrypted communication only when the source doesn&#x27;t support encryption</p></li><li><p><strong>require</strong> to always require encryption. Note: The connection will fail if the source doesn&#x27;t support encryption.</p></li><li><p><strong>verify-ca</strong> to always require encryption and verify that the source has a valid SSL certificate</p></li><li><p><strong>verify-full</strong> to always require encryption and verify the identity of the source</p></li></ul><ol start="9"><li>For SSH Tunnel Method, select:</li></ol><ul><li><p><strong>No Tunnel</strong> for a direct connection to the database</p></li><li><p><strong>SSH Key Authentication</strong> to use an RSA Private as your secret for establishing the SSH tunnel</p></li><li><p><strong>Password Authentication</strong> to use a password as your secret for establishing the SSH tunnel</p><blockquote><p><strong>NOTE:</strong> Since Daspire requires encrypted communication, select <strong>SSH Key Authentication</strong> or <strong>Password Authentication</strong> if you select <strong>disable</strong> , <strong>allow</strong> , or <strong>prefer</strong> as the <strong>SSL Mode</strong> ; otherwise, the connection will fail.</p></blockquote></li></ul><ol start="10"><li>Click <strong>Set up destination</strong>.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="naming-conventions">Naming Conventions<a class="hash-link" href="#naming-conventions" title="Direct link to heading">â€‹</a></h2><p>From <a href="https://www.postgresql.org/docs/9.0/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS" target="_blank" rel="noopener noreferrer">Postgres SQL Identifiers syntax</a>:</p><ul><li><p>SQL identifiers and key words must begin with a letter (a-z, but also letters with diacritical marks and non-Latin letters) or an underscore (<!-- -->_<!-- -->).</p></li><li><p>Subsequent characters in an identifier or key word can be letters, underscores, digits (0-9), or dollar signs ($).</p></li><li><p>Note that dollar signs are not allowed in identifiers according to the SQL standard, so their use might render applications less portable. The SQL standard will not define a key word that contains digits or starts or ends with an underscore, so identifiers of this form are safe against possible conflict with future extensions of the standard.</p></li><li><p>The system uses no more than NAMEDATALEN-1 bytes of an identifier; longer names can be written in commands, but they will be truncated. By default, NAMEDATALEN is 64 so the maximum identifier length is 63 bytes</p></li><li><p>Quoted identifiers can contain any character, except the character with code zero. (To include a double quote, write two double quotes.) This allows constructing table or column names that would otherwise not be possible, such as ones containing spaces or ampersands. The length limitation still applies.</p></li><li><p>Quoting an identifier also makes it case-sensitive, whereas unquoted names are always folded to lower case.</p></li><li><p>In order to make your applications portable and less error-prone, use consistent quoting with each name (either always quote it or never quote it).</p></li></ul><p>Note, that Daspire Postgres destination will create tables and schemes using the Unquoted identifiers when possible or fallback to Quoted Identifiers if the names contain special characters.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="output-schema">Output Schema<a class="hash-link" href="#output-schema" title="Direct link to heading">â€‹</a></h2><p>Each stream will be mapped to a separate table in Postgres. Each table will contain 3 columns:</p><ul><li><p><code>_daspire_ab_id</code>: a uuid assigned by Daspire to each event that is processed. The column type in Postgres is VARCHAR.</p></li><li><p><code>_daspire_emitted_at</code>: a timestamp representing when the event was pulled from the data source. The column type in Postgres is TIMESTAMP WITH TIME ZONE.</p></li><li><p><code>_daspire_data</code>: a json blob representing with the event data. The column type in Postgres is JSONB.</p></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/setup-guide/destinations/mysql"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">MySQL</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/setup-guide/destinations/redshift"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Redshift</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#setup-guide" class="table-of-contents__link toc-highlight">Setup guide</a><ul><li><a href="#step-1-set-up-postgres" class="table-of-contents__link toc-highlight">Step 1: Set up Postgres</a></li><li><a href="#step-2-set-up-the-postgres-destination-in-daspire" class="table-of-contents__link toc-highlight">Step 2: Set up the Postgres destination in Daspire</a></li></ul></li><li><a href="#naming-conventions" class="table-of-contents__link toc-highlight">Naming Conventions</a></li><li><a href="#output-schema" class="table-of-contents__link toc-highlight">Output Schema</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Sictec Infotech, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.16cc722c.js"></script>
<script src="/assets/js/main.76da3c3f.js"></script>
</body>
</html>